{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/GitHub/inner-web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export default function DosPlayer(props){var rootRef=useRef(null);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),dos=_useState2[0],setDos=_useState2[1];useEffect(function(){if(rootRef===null||rootRef.current===null){return;}var root=rootRef.current;var instance=Dos(root);setDos(instance);var elements=rootRef.current.getElementsByClassName('flex-grow-0');while(elements.length>0){elements[0].remove();}return function(){instance.stop();};},[rootRef]);useEffect(function(){if(dos!==null){dos.run(props.bundleUrl);}},[dos,props.bundleUrl]);return/*#__PURE__*/_jsx(\"div\",{ref:rootRef,style:{width:props.width,height:props.height,position:'absolute'}});}","map":{"version":3,"sources":["/Users/mac/Documents/GitHub/inner-web/src/components/dos/DosPlayer.tsx"],"names":["React","useEffect","useRef","useState","DosPlayer","props","rootRef","dos","setDos","current","root","instance","Dos","elements","getElementsByClassName","length","remove","stop","run","bundleUrl","width","height","position"],"mappings":"2HAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,CAAmCC,QAAnC,KAAmD,OAAnD,C,2CAYA,cAAe,SAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAAuC,CAClD,GAAMC,CAAAA,OAAO,CAAGJ,MAAM,CAAiB,IAAjB,CAAtB,CAEA,cAAsBC,QAAQ,CAAkB,IAAlB,CAA9B,wCAAOI,GAAP,eAAYC,MAAZ,eAEAP,SAAS,CAAC,UAAM,CACZ,GAAIK,OAAO,GAAK,IAAZ,EAAoBA,OAAO,CAACG,OAAR,GAAoB,IAA5C,CAAkD,CAC9C,OACH,CAED,GAAMC,CAAAA,IAAI,CAAGJ,OAAO,CAACG,OAArB,CACA,GAAME,CAAAA,QAAQ,CAAGC,GAAG,CAACF,IAAD,CAApB,CAEAF,MAAM,CAACG,QAAD,CAAN,CACA,GAAME,CAAAA,QAAQ,CAAGP,OAAO,CAACG,OAAR,CAAgBK,sBAAhB,CAAuC,aAAvC,CAAjB,CAEA,MAAOD,QAAQ,CAACE,MAAT,CAAkB,CAAzB,CAA4B,CACxBF,QAAQ,CAAC,CAAD,CAAR,CAAYG,MAAZ,GACH,CAED,MAAO,WAAM,CACTL,QAAQ,CAACM,IAAT,GACH,CAFD,CAGH,CAlBQ,CAkBN,CAACX,OAAD,CAlBM,CAAT,CAoBAL,SAAS,CAAC,UAAM,CACZ,GAAIM,GAAG,GAAK,IAAZ,CAAkB,CACdA,GAAG,CAACW,GAAJ,CAAQb,KAAK,CAACc,SAAd,EACH,CACJ,CAJQ,CAIN,CAACZ,GAAD,CAAMF,KAAK,CAACc,SAAZ,CAJM,CAAT,CAKA,mBACI,YACI,GAAG,CAAEb,OADT,CAEI,KAAK,CAAE,CACHc,KAAK,CAAEf,KAAK,CAACe,KADV,CAEHC,MAAM,CAAEhB,KAAK,CAACgB,MAFX,CAGHC,QAAQ,CAAE,UAHP,CAFX,EADJ,CAUH","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\n\nimport { DosPlayer as Instance, DosPlayerFactoryType } from 'js-dos';\n\ndeclare const Dos: DosPlayerFactoryType;\n\ninterface PlayerProps {\n    width: number;\n    height: number;\n    bundleUrl: string;\n}\n\nexport default function DosPlayer(props: PlayerProps) {\n    const rootRef = useRef<HTMLDivElement>(null);\n\n    const [dos, setDos] = useState<Instance | null>(null);\n\n    useEffect(() => {\n        if (rootRef === null || rootRef.current === null) {\n            return;\n        }\n\n        const root = rootRef.current as HTMLDivElement;\n        const instance = Dos(root);\n\n        setDos(instance);\n        const elements = rootRef.current.getElementsByClassName('flex-grow-0');\n\n        while (elements.length > 0) {\n            elements[0].remove();\n        }\n\n        return () => {\n            instance.stop();\n        };\n    }, [rootRef]);\n\n    useEffect(() => {\n        if (dos !== null) {\n            dos.run(props.bundleUrl);\n        }\n    }, [dos, props.bundleUrl]);\n    return (\n        <div\n            ref={rootRef}\n            style={{\n                width: props.width,\n                height: props.height,\n                position: 'absolute',\n            }}\n        ></div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}