{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/GitHub/inner-web/src/components/applications/GamesFolder.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from 'react';\nimport Window from '../os/Window';\nimport DesktopShortcut from '../os/DesktopShortcut';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GRID_SIZE = 100;\n\nconst GamesFolder = _ref => {\n  _s();\n\n  let {\n    onInteract,\n    onMinimize,\n    onClose,\n    openWordleApp,\n    openGamesText,\n    openSudokuApp,\n    openHangmanApp,\n    openTicTacToeApp\n  } = _ref;\n  const contentRef = useRef(null);\n  const [contextMenu, setContextMenu] = useState({\n    visible: false,\n    x: 0,\n    y: 0,\n    targetId: ''\n  });\n  const [positions, setPositions] = useState({});\n\n  const handleContextMenu = e => {\n    e.preventDefault();\n    setContextMenu({\n      visible: true,\n      x: e.clientX,\n      y: e.clientY,\n      targetId: ''\n    });\n  };\n\n  const handleClick = () => {\n    if (contextMenu.visible) {\n      setContextMenu({\n        visible: false,\n        x: 0,\n        y: 0,\n        targetId: ''\n      });\n    }\n  };\n\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDragOver = e => {\n    e.preventDefault();\n  };\n\n  const handleDragStart = (e, key) => {\n    e.dataTransfer.setData('text/plain', key);\n  };\n\n  const handleDropInsideFolder = (e, key) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const rect = e.currentTarget.getBoundingClientRect();\n    let top = e.clientY - rect.top;\n    let left = e.clientX - rect.left; // Snap to grid\n\n    top = Math.round(top / GRID_SIZE) * GRID_SIZE;\n    left = Math.round(left / GRID_SIZE) * GRID_SIZE; // Check for collisions and adjust position if necessary\n\n    const newPosition = {\n      top,\n      left\n    };\n    const collision = Object.values(positions).some(pos => pos.top === newPosition.top && pos.left === newPosition.left);\n\n    if (collision) {\n      newPosition.top += GRID_SIZE;\n    }\n\n    setPositions(prevPositions => ({ ...prevPositions,\n      [key]: newPosition\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Window, {\n    top: 10,\n    left: 10,\n    width: 600,\n    height: 500,\n    windowTitle: \"Games\",\n    windowBarIcon: \"folderIcon\",\n    windowBarColor: \"#757579\",\n    closeWindow: onClose,\n    onInteract: onInteract,\n    minimizeWindow: onMinimize,\n    resizable: true,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: contentRef,\n      style: styles.container,\n      onContextMenu: handleContextMenu,\n      onClick: handleClick,\n      onDrop: handleDrop,\n      onDragOver: handleDragOver,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: Object.assign({}, styles.shortcutContainer, {\n          top: 20,\n          left: 120\n        }),\n        draggable: true,\n        onDragStart: e => handleDragStart(e, 'wordle'),\n        onDrop: e => handleDropInsideFolder(e, 'wordle'),\n        onDragOver: handleDragOver,\n        children: /*#__PURE__*/_jsxDEV(DesktopShortcut, {\n          icon: \"wordleIcon\",\n          shortcutName: \"Wordle\",\n          onOpen: openWordleApp,\n          textColor: \"black\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: Object.assign({}, styles.shortcutContainer, {\n          top: 20,\n          left: 20\n        }),\n        draggable: true,\n        onDragStart: e => handleDragStart(e, 'gamesText'),\n        onDrop: e => handleDropInsideFolder(e, 'gamesText'),\n        onDragOver: handleDragOver,\n        children: /*#__PURE__*/_jsxDEV(DesktopShortcut, {\n          icon: \"textFileIcon\",\n          shortcutName: \"Games Info\",\n          onOpen: openGamesText,\n          textColor: \"black\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: Object.assign({}, styles.shortcutContainer, {\n          top: 20,\n          left: 220\n        }),\n        draggable: true,\n        onDragStart: e => handleDragStart(e, 'Sudoku'),\n        onDrop: e => handleDropInsideFolder(e, 'Sudoku'),\n        onDragOver: handleDragOver,\n        children: /*#__PURE__*/_jsxDEV(DesktopShortcut, {\n          icon: \"sudokuIcon\",\n          shortcutName: \"Sudoku\",\n          onOpen: openSudokuApp,\n          textColor: \"black\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: Object.assign({}, styles.shortcutContainer, {\n          top: 20,\n          left: 320\n        }),\n        draggable: true,\n        onDragStart: e => handleDragStart(e, 'Hangman'),\n        onDrop: e => handleDropInsideFolder(e, 'Hangman'),\n        onDragOver: handleDragOver,\n        children: /*#__PURE__*/_jsxDEV(DesktopShortcut, {\n          icon: \"hangmanIcon\",\n          shortcutName: \"Hangman\",\n          onOpen: openHangmanApp,\n          textColor: \"black\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: Object.assign({}, styles.shortcutContainer, {\n          top: 20,\n          left: 420\n        }),\n        draggable: true,\n        onDragStart: e => handleDragStart(e, 'ticTacToe'),\n        onDrop: e => handleDropInsideFolder(e, 'ticTacToe'),\n        onDragOver: handleDragOver,\n        children: /*#__PURE__*/_jsxDEV(DesktopShortcut, {\n          icon: \"tictactoeIcon\",\n          shortcutName: \"Tic Tac Toe\",\n          onOpen: openTicTacToeApp,\n          textColor: \"black\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this), contextMenu.visible && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: { ...styles.contextMenu,\n          top: contextMenu.y,\n          left: contextMenu.x\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.contextMenuItem,\n          children: \"Rename\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GamesFolder, \"G4z/AFDXN4efaysUoDoSS4nODl8=\");\n\n_c = GamesFolder;\nconst styles = {\n  container: {\n    padding: '10px',\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white'\n  },\n  shortcutContainer: {\n    position: 'absolute',\n    cursor: 'move'\n  },\n  contextMenu: {\n    position: 'absolute',\n    backgroundColor: 'white',\n    border: '1px solid #ccc',\n    boxShadow: '0 2px 10px rgba(0,0,0,0.2)',\n    zIndex: 1000,\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  contextMenuItem: {\n    padding: '8px 12px',\n    cursor: 'pointer'\n  }\n};\nexport default GamesFolder;\n\nvar _c;\n\n$RefreshReg$(_c, \"GamesFolder\");","map":{"version":3,"sources":["/Users/mac/Documents/GitHub/inner-web/src/components/applications/GamesFolder.tsx"],"names":["React","useRef","useState","Window","DesktopShortcut","GRID_SIZE","GamesFolder","onInteract","onMinimize","onClose","openWordleApp","openGamesText","openSudokuApp","openHangmanApp","openTicTacToeApp","contentRef","contextMenu","setContextMenu","visible","x","y","targetId","positions","setPositions","handleContextMenu","e","preventDefault","clientX","clientY","handleClick","handleDrop","stopPropagation","handleDragOver","handleDragStart","key","dataTransfer","setData","handleDropInsideFolder","rect","currentTarget","getBoundingClientRect","top","left","Math","round","newPosition","collision","Object","values","some","pos","prevPositions","styles","container","assign","shortcutContainer","contextMenuItem","padding","position","width","height","backgroundColor","cursor","border","boxShadow","zIndex","display","flexDirection"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport Window from '../os/Window';\nimport DesktopShortcut from '../os/DesktopShortcut';\n\nconst GRID_SIZE = 100;\n\ninterface GamesFolderProps {\n    onInteract: () => void;\n    onMinimize: () => void;\n    onClose: () => void;\n    openWordleApp: () => void;\n    openGamesText: () => void;\n    openSudokuApp: () => void;\n    openHangmanApp: () => void;\n    openTicTacToeApp: () => void;\n}\n\nconst GamesFolder: React.FC<GamesFolderProps> = ({ onInteract, onMinimize, onClose, openWordleApp, openGamesText, openSudokuApp, openHangmanApp, openTicTacToeApp }) => {\n    const contentRef = useRef<HTMLDivElement>(null);\n    const [contextMenu, setContextMenu] = useState({ visible: false, x: 0, y: 0, targetId: '' });\n    const [positions, setPositions] = useState<{ [key: string]: { top: number; left: number } }>({});\n\n    const handleContextMenu = (e: React.MouseEvent) => {\n        e.preventDefault();\n        setContextMenu({ visible: true, x: e.clientX, y: e.clientY, targetId: '' });\n    };\n\n    const handleClick = () => {\n        if (contextMenu.visible) {\n            setContextMenu({ visible: false, x: 0, y: 0, targetId: '' });\n        }\n    };\n\n    const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        e.stopPropagation();\n    };\n\n    const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault();\n    };\n\n    const handleDragStart = (e: React.DragEvent<HTMLDivElement>, key: string) => {\n        e.dataTransfer.setData('text/plain', key);\n    };\n\n    const handleDropInsideFolder = (e: React.DragEvent<HTMLDivElement>, key: string) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const rect = e.currentTarget.getBoundingClientRect();\n        let top = e.clientY - rect.top;\n        let left = e.clientX - rect.left;\n\n        // Snap to grid\n        top = Math.round(top / GRID_SIZE) * GRID_SIZE;\n        left = Math.round(left / GRID_SIZE) * GRID_SIZE;\n\n        // Check for collisions and adjust position if necessary\n        const newPosition = { top, left };\n        const collision = Object.values(positions).some(\n            (pos) => pos.top === newPosition.top && pos.left === newPosition.left\n        );\n\n        if (collision) {\n            newPosition.top += GRID_SIZE;\n        }\n\n        setPositions((prevPositions) => ({\n            ...prevPositions,\n            [key]: newPosition,\n        }));\n    };\n\n    return (\n        <Window\n            top={10}\n            left={10}\n            width={600}\n            height={500}\n            windowTitle=\"Games\"\n            windowBarIcon=\"folderIcon\"\n            windowBarColor=\"#757579\"\n            closeWindow={onClose}\n            onInteract={onInteract}\n            minimizeWindow={onMinimize}\n            resizable={true}\n        >\n            <div \n                ref={contentRef} \n                style={styles.container}\n                onContextMenu={handleContextMenu}\n                onClick={handleClick}\n                onDrop={handleDrop}\n                onDragOver={handleDragOver}\n            >\n                <div\n                    style={Object.assign({}, styles.shortcutContainer, { top: 20, left: 120 })}\n                    draggable\n                    onDragStart={(e) => handleDragStart(e, 'wordle')}\n                    onDrop={(e) => handleDropInsideFolder(e, 'wordle')}\n                    onDragOver={handleDragOver}\n                >\n                    <DesktopShortcut\n                        icon=\"wordleIcon\"\n                        shortcutName=\"Wordle\"\n                        onOpen={openWordleApp}\n                        textColor=\"black\"\n                    />\n                </div>\n                <div\n                    style={Object.assign({}, styles.shortcutContainer, { top: 20, left: 20 })}\n                    draggable\n                    onDragStart={(e) => handleDragStart(e, 'gamesText')}\n                    onDrop={(e) => handleDropInsideFolder(e, 'gamesText')}\n                    onDragOver={handleDragOver}\n                >\n                    <DesktopShortcut\n                        icon=\"textFileIcon\"\n                        shortcutName=\"Games Info\"\n                        onOpen={openGamesText}\n                        textColor=\"black\"\n                    />\n                </div>\n                <div\n                    style={Object.assign({}, styles.shortcutContainer, { top: 20, left: 220 })}\n                    draggable\n                    onDragStart={(e) => handleDragStart(e, 'Sudoku')}\n                    onDrop={(e) => handleDropInsideFolder(e, 'Sudoku')}\n                    onDragOver={handleDragOver}\n                >\n                    <DesktopShortcut\n                        icon=\"sudokuIcon\"\n                        shortcutName=\"Sudoku\"\n                        onOpen={openSudokuApp}\n                        textColor=\"black\"\n                    />\n                </div>\n                <div\n                    style={Object.assign({}, styles.shortcutContainer, { top: 20, left: 320 })}\n                    draggable\n                    onDragStart={(e) => handleDragStart(e, 'Hangman')}\n                    onDrop={(e) => handleDropInsideFolder(e, 'Hangman')}\n                    onDragOver={handleDragOver}\n                >\n                    <DesktopShortcut\n                        icon=\"hangmanIcon\"\n                        shortcutName=\"Hangman\"\n                        onOpen={openHangmanApp}\n                        textColor=\"black\"\n                    />\n                </div>\n                <div\n                    style={Object.assign({}, styles.shortcutContainer, { top: 20, left: 420 })}\n                    draggable\n                    onDragStart={(e) => handleDragStart(e, 'ticTacToe')}\n                    onDrop={(e) => handleDropInsideFolder(e, 'ticTacToe')}\n                    onDragOver={handleDragOver}\n                >\n                    <DesktopShortcut\n                        icon=\"tictactoeIcon\"\n                        shortcutName=\"Tic Tac Toe\"\n                        onOpen={openTicTacToeApp}\n                        textColor=\"black\"\n                    />\n                </div>\n                {contextMenu.visible && (\n                    <div style={{\n                        ...styles.contextMenu,\n                        top: contextMenu.y,\n                        left: contextMenu.x\n                    }}>\n                        <div style={styles.contextMenuItem}>\n                            Rename\n                        </div>\n                    </div>\n                )}\n            </div>\n        </Window>\n    );\n};\n\nconst styles: { [key: string]: React.CSSProperties } = {\n    container: {\n        padding: '10px',\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        backgroundColor: 'white',\n    },\n    shortcutContainer: {\n        position: 'absolute',\n        cursor: 'move',\n    },\n    contextMenu: {\n        position: 'absolute',\n        backgroundColor: 'white',\n        border: '1px solid #ccc',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.2)',\n        zIndex: 1000,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    contextMenuItem: {\n        padding: '8px 12px',\n        cursor: 'pointer',\n    },\n};\n\nexport default GamesFolder;\n"]},"metadata":{},"sourceType":"module"}