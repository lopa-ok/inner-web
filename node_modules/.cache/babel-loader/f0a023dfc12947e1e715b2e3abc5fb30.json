{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/GitHub/inner-web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import Colors from'../../constants/colors';import{Icon}from'../general';// import { } from '../general';\n// import Home from '../site/Home';\n// import Window from './Window';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Toolbar=function Toolbar(_ref){var windows=_ref.windows,toggleMinimize=_ref.toggleMinimize,shutdown=_ref.shutdown;var getTime=function getTime(){var date=new Date();var hours=date.getHours();var minutes=date.getMinutes();var amPm=hours>=12?'PM':'AM';hours=hours%12;hours=hours?hours:12;var mins=minutes<10?'0'+minutes:minutes;var strTime=hours+':'+mins+' '+amPm;return strTime;};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),startWindowOpen=_useState2[0],setStartWindowOpen=_useState2[1];var lastClickInside=useRef(false);var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),lastActive=_useState4[0],setLastActive=_useState4[1];useEffect(function(){var max=0;var k='';Object.keys(windows).forEach(function(key){if(windows[key].zIndex>=max){max=windows[key].zIndex;k=key;}});setLastActive(k);},[windows]);var _useState5=useState(getTime()),_useState6=_slicedToArray(_useState5,2),time=_useState6[0],setTime=_useState6[1];var updateTime=function updateTime(){setTime(getTime());setTimeout(function(){updateTime();},5000);};useEffect(function(){updateTime();});var onCheckClick=function onCheckClick(){if(lastClickInside.current){setStartWindowOpen(true);}else{setStartWindowOpen(false);}lastClickInside.current=false;};useEffect(function(){window.addEventListener('mousedown',onCheckClick,false);return function(){window.removeEventListener('mousedown',onCheckClick,false);};},[]);var onStartWindowClicked=function onStartWindowClicked(){setStartWindowOpen(true);lastClickInside.current=true;};var toggleStartWindow=function toggleStartWindow(){if(!startWindowOpen){lastClickInside.current=true;}else{lastClickInside.current=false;}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.toolbarOuter,children:[startWindowOpen&&/*#__PURE__*/_jsx(\"div\",{onMouseDown:onStartWindowClicked,style:styles.startWindow,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.startWindowInner,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.verticalStartContainer,children:/*#__PURE__*/_jsx(\"p\",{style:styles.verticalText,children:\"LopaOS\"})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.startWindowContent,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.startMenuSpace}),/*#__PURE__*/_jsx(\"div\",{style:styles.startMenuLine}),/*#__PURE__*/_jsxs(\"div\",{className:\"start-menu-option\",style:styles.startMenuOption,onMouseDown:shutdown,children:[/*#__PURE__*/_jsx(Icon,{style:styles.startMenuIcon,icon:\"computerBig\"}),/*#__PURE__*/_jsxs(\"p\",{style:styles.startMenuText,children:[\"Sh\",/*#__PURE__*/_jsx(\"u\",{children:\"u\"}),\"t down...\"]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.toolbarInner,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.toolbar,children:[/*#__PURE__*/_jsx(\"div\",{style:Object.assign({},styles.startContainerOuter,startWindowOpen&&styles.activeTabOuter),onMouseDown:toggleStartWindow,children:/*#__PURE__*/_jsxs(\"div\",{style:Object.assign({},styles.startContainer,startWindowOpen&&styles.activeTabInner),children:[/*#__PURE__*/_jsx(Icon,{size:18,icon:\"windowsStartIcon\",style:styles.startIcon}),/*#__PURE__*/_jsx(\"p\",{className:\"toolbar-text \",children:\"Start\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:styles.toolbarTabsContainer,children:Object.keys(windows).map(function(key){return/*#__PURE__*/_jsx(\"div\",{style:Object.assign({},styles.tabContainerOuter,lastActive===key&&!windows[key].minimized&&styles.activeTabOuter),onMouseDown:function onMouseDown(){return toggleMinimize(key);},children:/*#__PURE__*/_jsxs(\"div\",{style:Object.assign({},styles.tabContainer,lastActive===key&&!windows[key].minimized&&styles.activeTabInner),children:[/*#__PURE__*/_jsx(Icon,{size:18,icon:windows[key].icon,style:styles.tabIcon}),/*#__PURE__*/_jsx(\"p\",{style:styles.tabText,children:windows[key].name})]})},key);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.time,children:[/*#__PURE__*/_jsx(Icon,{style:styles.volumeIcon,icon:\"volumeOn\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.timeText,children:time})]})]})]});};var styles={toolbarOuter:{boxSizing:'border-box',position:'absolute',bottom:0,width:'100%',height:32,background:Colors.lightGray,borderTop:\"1px solid \".concat(Colors.lightGray),zIndex:100000},verticalStartContainer:{// width: 30,\nheight:'100%',background:Colors.darkGray},verticalText:{fontFamily:'Terminal',textOrientation:'sideways',fontSize:32,padding:4,paddingBottom:64,paddingTop:8,letterSpacing:1,color:Colors.lightGray,transform:'scale(-1)',WebkitTransform:'scale(-1)',MozTransform:'scale(-1)',msTransform:'scale(-1)',OTransform:'scale(-1)',// @ts-ignore\nwritingMode:'tb-rl'},startWindowContent:{flex:1,flexDirection:'column',justifyContent:'flex-end'// alignItems: 'flex-end',\n},startWindow:{position:'absolute',bottom:28,display:'flex',flex:1,width:256,// height: 400,\nleft:4,boxSizing:'border-box',border:\"1px solid \".concat(Colors.white),borderBottomColor:Colors.black,borderRightColor:Colors.black,background:Colors.lightGray},activeTabOuter:{border:\"1px solid \".concat(Colors.black),borderBottomColor:Colors.white,borderRightColor:Colors.white},startWindowInner:{border:\"1px solid \".concat(Colors.lightGray),borderBottomColor:Colors.darkGray,borderRightColor:Colors.darkGray,flex:1},startMenuIcon:{width:32,height:32},startMenuText:{fontSize:14,fontFamily:'MSSerif',marginLeft:8},startMenuOption:{alignItems:'center',// flex: 1,\nheight:24,padding:12},startMenuSpace:{flex:1},startMenuLine:{height:1,background:Colors.white,borderTop:\"1px solid \".concat(Colors.darkGray)},activeTabInner:{border:\"1px solid \".concat(Colors.darkGray),borderBottomColor:Colors.lightGray,borderRightColor:Colors.lightGray,backgroundImage:\"linear-gradient(45deg, white 25%, transparent 25%),\\n        linear-gradient(-45deg,  white 25%, transparent 25%),\\n        linear-gradient(45deg, transparent 75%,  white 75%),\\n        linear-gradient(-45deg, transparent 75%,  white 75%)\",backgroundSize:\"4px 4px\",backgroundPosition:\"0 0, 0 2px, 2px -2px, -2px 0px\",pointerEvents:'none'},tabContainerOuter:{display:'flex',flex:1,maxWidth:300,marginRight:4,boxSizing:'border-box',cursor:'pointer',border:\"1px solid \".concat(Colors.white),borderBottomColor:Colors.black,borderRightColor:Colors.black},tabContainer:{display:'flex',border:\"1px solid \".concat(Colors.lightGray),borderBottomColor:Colors.darkGray,borderRightColor:Colors.darkGray,alignItems:'center',paddingLeft:4,flex:1},tabIcon:{marginRight:6},startContainer:{alignItems:'center',flexShrink:1,// background: 'red',\nborder:\"1px solid \".concat(Colors.lightGray),borderBottomColor:Colors.darkGray,borderRightColor:Colors.darkGray,padding:1,paddingLeft:5,paddingRight:5},startContainerOuter:{marginLeft:3,boxSizing:'border-box',cursor:'pointer',border:\"1px solid \".concat(Colors.white),borderBottomColor:Colors.black,borderRightColor:Colors.black},toolbarTabsContainer:{// background: 'blue',\nflex:1,marginLeft:4,marginRight:4},startIcon:{marginRight:4},toolbarInner:{borderTop:\"1px solid \".concat(Colors.white),alignItems:'center',flex:1},toolbar:{flexGrow:1,width:'100%'},time:{flexShrink:1,width:86,height:24,boxSizing:'border-box',marginRight:4,paddingLeft:4,paddingRight:4,border:\"1px solid \".concat(Colors.white),borderTopColor:Colors.darkGray,justifyContent:'space-between',alignItems:'center',borderLeftColor:Colors.darkGray},volumeIcon:{cursor:'pointer',height:18},tabText:{fontSize:14,fontFamily:'MSSerif'},timeText:{fontSize:12,fontFamily:'MSSerif'}};export default Toolbar;","map":{"version":3,"sources":["/Users/mac/Documents/GitHub/inner-web/src/components/os/Toolbar.tsx"],"names":["React","useEffect","useRef","useState","Colors","Icon","Toolbar","windows","toggleMinimize","shutdown","getTime","date","Date","hours","getHours","minutes","getMinutes","amPm","mins","strTime","startWindowOpen","setStartWindowOpen","lastClickInside","lastActive","setLastActive","max","k","Object","keys","forEach","key","zIndex","time","setTime","updateTime","setTimeout","onCheckClick","current","window","addEventListener","removeEventListener","onStartWindowClicked","toggleStartWindow","styles","toolbarOuter","startWindow","startWindowInner","verticalStartContainer","verticalText","startWindowContent","startMenuSpace","startMenuLine","startMenuOption","startMenuIcon","startMenuText","toolbarInner","toolbar","assign","startContainerOuter","activeTabOuter","startContainer","activeTabInner","startIcon","toolbarTabsContainer","map","tabContainerOuter","minimized","tabContainer","icon","tabIcon","tabText","name","volumeIcon","timeText","boxSizing","position","bottom","width","height","background","lightGray","borderTop","darkGray","fontFamily","textOrientation","fontSize","padding","paddingBottom","paddingTop","letterSpacing","color","transform","WebkitTransform","MozTransform","msTransform","OTransform","writingMode","flex","flexDirection","justifyContent","display","left","border","white","borderBottomColor","black","borderRightColor","marginLeft","alignItems","backgroundImage","backgroundSize","backgroundPosition","pointerEvents","maxWidth","marginRight","cursor","paddingLeft","flexShrink","paddingRight","flexGrow","borderTopColor","borderLeftColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport Colors from '../../constants/colors';\nimport { Icon } from '../general';\n// import { } from '../general';\n// import Home from '../site/Home';\n// import Window from './Window';\n\nexport interface ToolbarProps {\n    windows: DesktopWindows;\n    toggleMinimize: (key: string) => void;\n    shutdown: () => void;\n}\n\nconst Toolbar: React.FC<ToolbarProps> = ({\n    windows,\n    toggleMinimize,\n    shutdown,\n}) => {\n    const getTime = () => {\n        const date = new Date();\n        let hours = date.getHours();\n        let minutes = date.getMinutes();\n        let amPm = hours >= 12 ? 'PM' : 'AM';\n        hours = hours % 12;\n        hours = hours ? hours : 12;\n        let mins = minutes < 10 ? '0' + minutes : minutes;\n        const strTime = hours + ':' + mins + ' ' + amPm;\n        return strTime;\n    };\n\n    const [startWindowOpen, setStartWindowOpen] = useState(false);\n    const lastClickInside = useRef(false);\n\n    const [lastActive, setLastActive] = useState('');\n\n    useEffect(() => {\n        let max = 0;\n        let k = '';\n        Object.keys(windows).forEach((key) => {\n            if (windows[key].zIndex >= max) {\n                max = windows[key].zIndex;\n                k = key;\n            }\n        });\n        setLastActive(k);\n    }, [windows]);\n\n    const [time, setTime] = useState(getTime());\n\n    const updateTime = () => {\n        setTime(getTime());\n        setTimeout(() => {\n            updateTime();\n        }, 5000);\n    };\n\n    useEffect(() => {\n        updateTime();\n    });\n\n    const onCheckClick = () => {\n        if (lastClickInside.current) {\n            setStartWindowOpen(true);\n        } else {\n            setStartWindowOpen(false);\n        }\n        lastClickInside.current = false;\n    };\n\n    useEffect(() => {\n        window.addEventListener('mousedown', onCheckClick, false);\n        return () => {\n            window.removeEventListener('mousedown', onCheckClick, false);\n        };\n    }, []);\n\n    const onStartWindowClicked = () => {\n        setStartWindowOpen(true);\n        lastClickInside.current = true;\n    };\n\n    const toggleStartWindow = () => {\n        if (!startWindowOpen) {\n            lastClickInside.current = true;\n        } else {\n            lastClickInside.current = false;\n        }\n    };\n\n    return (\n        <div style={styles.toolbarOuter}>\n            {startWindowOpen && (\n                <div\n                    onMouseDown={onStartWindowClicked}\n                    style={styles.startWindow}\n                >\n                    <div style={styles.startWindowInner}>\n                        <div style={styles.verticalStartContainer}>\n                            <p style={styles.verticalText}>LopaOS</p>\n                        </div>\n                        <div style={styles.startWindowContent}>\n                            <div style={styles.startMenuSpace} />\n                            <div style={styles.startMenuLine} />\n                            <div\n                                className=\"start-menu-option\"\n                                style={styles.startMenuOption}\n                                onMouseDown={shutdown}\n                            >\n                                <Icon\n                                    style={styles.startMenuIcon}\n                                    icon=\"computerBig\"\n                                />\n                                <p style={styles.startMenuText}>\n                                    Sh<u>u</u>t down...\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n            <div style={styles.toolbarInner}>\n                <div style={styles.toolbar}>\n                    <div\n                        style={Object.assign(\n                            {},\n                            styles.startContainerOuter,\n                            startWindowOpen && styles.activeTabOuter\n                        )}\n                        onMouseDown={toggleStartWindow}\n                    >\n                        <div\n                            style={Object.assign(\n                                {},\n                                styles.startContainer,\n                                startWindowOpen && styles.activeTabInner\n                            )}\n                        >\n                            <Icon\n                                size={18}\n                                icon=\"windowsStartIcon\"\n                                style={styles.startIcon}\n                            />\n                            <p className=\"toolbar-text \">Start</p>\n                        </div>\n                    </div>\n                    <div style={styles.toolbarTabsContainer}>\n                        {Object.keys(windows).map((key) => {\n                            return (\n                                <div\n                                    key={key}\n                                    style={Object.assign(\n                                        {},\n                                        styles.tabContainerOuter,\n                                        lastActive === key &&\n                                            !windows[key].minimized &&\n                                            styles.activeTabOuter\n                                    )}\n                                    onMouseDown={() => toggleMinimize(key)}\n                                >\n                                    <div\n                                        style={Object.assign(\n                                            {},\n                                            styles.tabContainer,\n                                            lastActive === key &&\n                                                !windows[key].minimized &&\n                                                styles.activeTabInner\n                                        )}\n                                    >\n                                        <Icon\n                                            size={18}\n                                            icon={windows[key].icon}\n                                            style={styles.tabIcon}\n                                        />\n                                        <p style={styles.tabText}>\n                                            {windows[key].name}\n                                        </p>\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n                <div style={styles.time}>\n                    <Icon style={styles.volumeIcon} icon=\"volumeOn\" />\n                    <p style={styles.timeText}>{time}</p>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst styles: StyleSheetCSS = {\n    toolbarOuter: {\n        boxSizing: 'border-box',\n        position: 'absolute',\n        bottom: 0,\n        width: '100%',\n        height: 32,\n        background: Colors.lightGray,\n        borderTop: `1px solid ${Colors.lightGray}`,\n        zIndex: 100000,\n    },\n    verticalStartContainer: {\n        // width: 30,\n        height: '100%',\n        background: Colors.darkGray,\n    },\n    verticalText: {\n        fontFamily: 'Terminal',\n        textOrientation: 'sideways',\n        fontSize: 32,\n        padding: 4,\n        paddingBottom: 64,\n        paddingTop: 8,\n        letterSpacing: 1,\n        color: Colors.lightGray,\n        transform: 'scale(-1)',\n        WebkitTransform: 'scale(-1)',\n        MozTransform: 'scale(-1)',\n        msTransform: 'scale(-1)',\n        OTransform: 'scale(-1)',\n        // @ts-ignore\n        writingMode: 'tb-rl',\n    },\n    startWindowContent: {\n        flex: 1,\n        flexDirection: 'column',\n        justifyContent: 'flex-end',\n        // alignItems: 'flex-end',\n    },\n    startWindow: {\n        position: 'absolute',\n        bottom: 28,\n        display: 'flex',\n        flex: 1,\n        width: 256,\n        // height: 400,\n        left: 4,\n        boxSizing: 'border-box',\n        border: `1px solid ${Colors.white}`,\n        borderBottomColor: Colors.black,\n        borderRightColor: Colors.black,\n        background: Colors.lightGray,\n    },\n    activeTabOuter: {\n        border: `1px solid ${Colors.black}`,\n        borderBottomColor: Colors.white,\n        borderRightColor: Colors.white,\n    },\n    startWindowInner: {\n        border: `1px solid ${Colors.lightGray}`,\n        borderBottomColor: Colors.darkGray,\n        borderRightColor: Colors.darkGray,\n        flex: 1,\n    },\n    startMenuIcon: {\n        width: 32,\n        height: 32,\n    },\n    startMenuText: {\n        fontSize: 14,\n        fontFamily: 'MSSerif',\n        marginLeft: 8,\n    },\n    startMenuOption: {\n        alignItems: 'center',\n        // flex: 1,\n        height: 24,\n        padding: 12,\n    },\n    startMenuSpace: {\n        flex: 1,\n    },\n    startMenuLine: {\n        height: 1,\n        background: Colors.white,\n        borderTop: `1px solid ${Colors.darkGray}`,\n    },\n    activeTabInner: {\n        border: `1px solid ${Colors.darkGray}`,\n        borderBottomColor: Colors.lightGray,\n        borderRightColor: Colors.lightGray,\n        backgroundImage: `linear-gradient(45deg, white 25%, transparent 25%),\n        linear-gradient(-45deg,  white 25%, transparent 25%),\n        linear-gradient(45deg, transparent 75%,  white 75%),\n        linear-gradient(-45deg, transparent 75%,  white 75%)`,\n        backgroundSize: `4px 4px`,\n        backgroundPosition: `0 0, 0 2px, 2px -2px, -2px 0px`,\n        pointerEvents: 'none',\n    },\n    tabContainerOuter: {\n        display: 'flex',\n        flex: 1,\n        maxWidth: 300,\n        marginRight: 4,\n        boxSizing: 'border-box',\n        cursor: 'pointer',\n        border: `1px solid ${Colors.white}`,\n        borderBottomColor: Colors.black,\n        borderRightColor: Colors.black,\n    },\n    tabContainer: {\n        display: 'flex',\n        border: `1px solid ${Colors.lightGray}`,\n        borderBottomColor: Colors.darkGray,\n        borderRightColor: Colors.darkGray,\n        alignItems: 'center',\n        paddingLeft: 4,\n        flex: 1,\n    },\n    tabIcon: {\n        marginRight: 6,\n    },\n    startContainer: {\n        alignItems: 'center',\n        flexShrink: 1,\n        // background: 'red',\n        border: `1px solid ${Colors.lightGray}`,\n        borderBottomColor: Colors.darkGray,\n        borderRightColor: Colors.darkGray,\n        padding: 1,\n        paddingLeft: 5,\n        paddingRight: 5,\n    },\n    startContainerOuter: {\n        marginLeft: 3,\n        boxSizing: 'border-box',\n        cursor: 'pointer',\n        border: `1px solid ${Colors.white}`,\n        borderBottomColor: Colors.black,\n        borderRightColor: Colors.black,\n    },\n    toolbarTabsContainer: {\n        // background: 'blue',\n        flex: 1,\n        marginLeft: 4,\n        marginRight: 4,\n    },\n    startIcon: {\n        marginRight: 4,\n    },\n    toolbarInner: {\n        borderTop: `1px solid ${Colors.white}`,\n\n        alignItems: 'center',\n        flex: 1,\n    },\n    toolbar: {\n        flexGrow: 1,\n        width: '100%',\n    },\n    time: {\n        flexShrink: 1,\n        width: 86,\n        height: 24,\n        boxSizing: 'border-box',\n        marginRight: 4,\n        paddingLeft: 4,\n        paddingRight: 4,\n        border: `1px solid ${Colors.white}`,\n        borderTopColor: Colors.darkGray,\n\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        borderLeftColor: Colors.darkGray,\n    },\n    volumeIcon: {\n        cursor: 'pointer',\n        height: 18,\n    },\n    tabText: {\n        fontSize: 14,\n        fontFamily: 'MSSerif',\n    },\n    timeText: {\n        fontSize: 12,\n        fontFamily: 'MSSerif',\n    },\n};\n\nexport default Toolbar;\n"]},"metadata":{},"sourceType":"module"}